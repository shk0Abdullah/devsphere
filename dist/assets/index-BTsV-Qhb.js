(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const p of s.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();document.addEventListener("DOMContentLoaded",function(){let a=new Date;const o=new Date;o.setHours(0,0,0,0);const t=new Date(o);t.setDate(o.getDate()+1);let i=null,n=null;const s=document.getElementById("desktopBookingButton"),p=document.getElementById("mobileBookingButton"),g=document.getElementById("bookingPanel"),f=document.getElementById("closeButton"),e=document.getElementById("calendarBody"),r=document.getElementById("currentMonthYear"),d=document.getElementById("selectedDateDisplay"),E=document.getElementById("selectedDate"),h=document.getElementById("submitButton");document.getElementById("bookingForm");function l(){g&&(g.classList.remove("hidden"),y(a.getFullYear(),a.getMonth()),typeof closeMobileMenu=="function"&&closeMobileMenu())}s&&s.addEventListener("click",l),p&&p.addEventListener("click",l),f&&g&&f.addEventListener("click",function(){g.classList.add("hidden")}),g&&g.addEventListener("click",function(c){c.target===this&&this.classList.add("hidden")});const m=document.getElementById("prevMonth"),b=document.getElementById("nextMonth");m&&m.addEventListener("click",function(){a.setMonth(a.getMonth()-1),y(a.getFullYear(),a.getMonth())}),b&&b.addEventListener("click",function(){a.setMonth(a.getMonth()+1),y(a.getFullYear(),a.getMonth())});function y(c,D){if(!e)return;e.innerHTML="";const S=new Date(c,D,1),k=new Date(c,D+1,0).getDate(),O=S.getDay();r&&(r.textContent=new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}).format(S));let w=1;for(let x=0;x<6&&!(w>k);x++){const H=document.createElement("tr");for(let M=0;M<7;M++){const u=document.createElement("td");if(u.className="text-center p-2",x===0&&M<O)u.textContent="";else if(w>k)u.textContent="";else{const L=new Date(c,D,w);u.textContent=w,L<t?u.classList.add("text-gray-700","cursor-not-allowed"):(u.classList.add("cursor-pointer","hover:bg-gray-300","rounded"),u.addEventListener("click",function(){C(L,u)}),i&&L.getTime()===i.getTime()&&(u.classList.add("bg-primary","text-white"),n=u)),L.toDateString()===o.toDateString()&&u.classList.add("font-bold","text-primary"),w++}H.appendChild(u)}e.appendChild(H)}}function C(c,D){n&&(n.classList.remove("bg-primary","text-white"),n.classList.add("hover:bg-gray-100")),D.classList.add("bg-primary","text-white"),D.classList.remove("hover:bg-gray-100"),i=c,n=D,d&&(d.textContent=c.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})),E&&(E.value=c.toISOString()),h&&(h.disabled=!1)}});const A={apiKey:"AIzaSyCvHGJ9pucHkEVEpNMh5ij_IRQTdWUf280",authDomain:"devsphere-ed8da.firebaseapp.com",projectId:"devsphere-ed8da",storageBucket:"devsphere-ed8da.firebasestorage.app",messagingSenderId:"356519587631",appId:"1:356519587631:web:14e63cc011b59df456fbda"};firebase.apps.length||firebase.initializeApp(A);const q=firebase.firestore();document.addEventListener("DOMContentLoaded",function(){let a=null,o=null;const t=document.getElementById("bookingForm"),i=document.getElementById("submitButton"),n=document.getElementById("selectedDateDisplay"),s=document.getElementById("bookingPanel");t&&t.addEventListener("submit",async function(f){f.preventDefault();const e=document.getElementById("firstName"),r=document.getElementById("lastName"),d=document.getElementById("email"),E=document.getElementById("phone"),h=document.getElementById("selectedDate");if(!e.value||!r.value||!d.value||!E.value){alert("Please fill in all required fields");return}let l=null,m=null;if(a&&(l=a),!l&&h&&h.value&&(l=h.value),!l&&n&&n.textContent&&n.textContent!=="Select a date"&&(m=n.textContent,l=m),!l||l==="Select a date"){alert("Please select a date");return}const b=m||n.textContent||l;console.log("Date validation passed:",{selectedDate:a,dateValue:l,inputValue:h?h.value:"No input found",displayText:n?n.textContent:"No display found",finalFormattedDate:b});const y={firstName:e.value,lastName:r.value,email:d.value,phone:E.value,selectedDate:l,formattedDate:b,timestamp:firebase.firestore.FieldValue.serverTimestamp()};if(i){const C=i.textContent;i.disabled=!0,i.textContent="Saving...";try{const c=await q.collection("bookings").add(y);console.log("Booking saved with ID: ",c.id),alert(`Booking confirmed!

Date: ${b}
Name: ${y.firstName} ${y.lastName}`),t.reset(),p()}catch(c){console.error("Error saving booking: ",c),alert("Error submitting booking. Please try again.")}finally{i&&(i.disabled=!1,i.textContent=C)}}});function p(){a=null,s&&s.classList.add("hidden"),n&&(n.textContent="Select a date"),i&&(i.disabled=!0);const f=document.getElementById("selectedDate");f&&(f.value=""),o&&(o.classList.remove("bg-primary","text-white"),o.classList.add("hover:bg-gray-100"),o=null)}function g(f,e,r){console.log("Calendar cell clicked:",{dateValue:e,formattedDate:r}),o&&(o.classList.remove("bg-primary","text-white"),o.classList.add("hover:bg-gray-100")),o=f,a=e,o.classList.add("bg-primary","text-white"),o.classList.remove("hover:bg-gray-100"),n&&(n.textContent=r||e);const d=document.getElementById("selectedDate");d&&(d.value=e),i&&(i.disabled=!1),console.log("Date selection updated:",{selectedDate:a,displayText:n?n.textContent:"No display",inputValue:d?d.value:"No input"})}window.debugBookingState=function(){console.log("Current booking state:",{selectedDate:a,selectedCell:o,displayText:n?n.textContent:"Element not found",inputValue:document.getElementById("selectedDate")?document.getElementById("selectedDate").value:"Element not found",submitButtonDisabled:i?i.disabled:"Element not found"})},window.handleCalendarCellClick=g});const B=new THREE.Scene,R=document.querySelector("#canvas"),z=new THREE.SphereGeometry(8,20,16),Y=new THREE.MeshStandardMaterial({roughness:.3,metalness:.6,wireframe:!0,color:8947848}),N=new THREE.Mesh(z,Y);B.add(N);const Q=new THREE.AmbientLight(16777215,2),V=new THREE.DirectionalLight(16777215,2);V.position.set(20,20,30);B.add(Q,V);const v=new THREE.PerspectiveCamera(75,1,.1,1e3);v.position.z=25;B.add(v);const T=new THREE.WebGLRenderer({canvas:R,alpha:!0,antialias:!0});function P(){const a=R.getBoundingClientRect(),o=a.width,t=a.height;T.setSize(o,t),T.setPixelRatio(Math.min(window.devicePixelRatio,2)),v.updateProjectionMatrix()}P();let I;function U(a,o){const t={enableDamping:!0,dampingFactor:.05,target:new THREE.Vector3(0,0,0),spherical:new THREE.Spherical,sphericalDelta:new THREE.Spherical,scale:1,panOffset:new THREE.Vector3,zoomChanged:!1,rotateStart:new THREE.Vector2,rotateEnd:new THREE.Vector2,rotateDelta:new THREE.Vector2,panStart:new THREE.Vector2,panEnd:new THREE.Vector2,panDelta:new THREE.Vector2,dollyStart:new THREE.Vector2,dollyEnd:new THREE.Vector2,dollyDelta:new THREE.Vector2,state:"NONE",update:function(){const e=new THREE.Vector3,r=new THREE.Quaternion().setFromUnitVectors(a.up,new THREE.Vector3(0,1,0)),d=r.clone().invert(),E=new THREE.Vector3,h=new THREE.Quaternion;return function(){const m=a.position;return e.copy(m).sub(this.target),e.applyQuaternion(r),this.spherical.setFromVector3(e),this.enableDamping?(this.spherical.theta+=this.sphericalDelta.theta*this.dampingFactor,this.spherical.phi+=this.sphericalDelta.phi*this.dampingFactor):(this.spherical.theta+=this.sphericalDelta.theta,this.spherical.phi+=this.sphericalDelta.phi),this.spherical.makeSafe(),this.spherical.radius*=this.scale,e.setFromSpherical(this.spherical),e.applyQuaternion(d),m.copy(this.target).add(e),a.lookAt(this.target),this.enableDamping?(this.sphericalDelta.theta*=1-this.dampingFactor,this.sphericalDelta.phi*=1-this.dampingFactor):this.sphericalDelta.set(0,0,0),this.scale=1,this.zoomChanged||E.distanceToSquared(a.position)>.01||8*(1-h.dot(a.quaternion))>.01?(E.copy(a.position),h.copy(a.quaternion),this.zoomChanged=!1,!0):!1}}()};function i(e){e.preventDefault(),e.button===0&&(t.state="ROTATE",t.rotateStart.set(e.clientX,e.clientY))}function n(e){if(e.preventDefault(),t.state==="ROTATE"){t.rotateEnd.set(e.clientX,e.clientY),t.rotateDelta.subVectors(t.rotateEnd,t.rotateStart);const r=o;t.sphericalDelta.theta-=2*Math.PI*t.rotateDelta.x/r.clientHeight,t.sphericalDelta.phi-=2*Math.PI*t.rotateDelta.y/r.clientHeight,t.rotateStart.copy(t.rotateEnd)}}function s(e){e.preventDefault(),t.state="NONE"}function p(e){e.preventDefault(),e.touches.length===1&&(t.state="ROTATE",t.rotateStart.set(e.touches[0].pageX,e.touches[0].pageY))}function g(e){if(e.preventDefault(),e.touches.length===1&&t.state==="ROTATE"){t.rotateEnd.set(e.touches[0].pageX,e.touches[0].pageY),t.rotateDelta.subVectors(t.rotateEnd,t.rotateStart);const r=o;t.sphericalDelta.theta-=2*Math.PI*t.rotateDelta.x/r.clientHeight,t.sphericalDelta.phi-=2*Math.PI*t.rotateDelta.y/r.clientHeight,t.rotateStart.copy(t.rotateEnd)}}function f(e){e.preventDefault(),t.state="NONE"}return o.addEventListener("mousedown",i),o.addEventListener("mousemove",n),o.addEventListener("mouseup",s),o.addEventListener("touchstart",p),o.addEventListener("touchmove",g),o.addEventListener("touchend",f),t}I=U(v,R);I.enableDamping=!0;function F(){requestAnimationFrame(F),I.state==="NONE"&&(N.rotation.y+=.005),I.update(),T.render(B,v)}F();window.addEventListener("resize",P);T.render(B,v);
